Both are interfaced with an attention mechanism that recombines a fixed encoding of the source tokens based on the decoder state.