The whole system can betrained end-to-end in a unified CNN framework.