States are mapped to hash codes, which allows to counttheir occurrences with a hash table.