To identify semantically useful localfeatures for image retrieval, we also propose an attention mechanism forkeypoint selection, which shares most network layers with the descriptor.