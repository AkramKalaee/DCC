The whole system can be trained end-to-end in a unified CNN framework.