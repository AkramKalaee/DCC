States are mapped to hash codes, which allows to count their occurrences with a hash table.